{
	"format_version": "1.20.30",
	"minecraft:block": {
		"description": {
			"identifier": "medieval:fish_drying",
			"menu_category": {
				"category": "equipment",
				"group": "itemGroup.name.cartographer"
			},
			"traits": {"minecraft:placement_direction": {"enabled_states": ["minecraft:cardinal_direction"]}},
			"states": {
				"medieval:side": [0,1,2,3,4],
				"medieval:fish_left": [0,1,2],
				"medieval:fish_right": [0,1,2]
			}
		},
		"permutations": [
			{"condition": "q.block_state('minecraft:cardinal_direction') == 'north'","components": {"minecraft:transformation": {"rotation": [0,0,0]},"tag:m.fish_north": {}}},
			{"condition": "q.block_state('minecraft:cardinal_direction') == 'south'","components": {"minecraft:transformation": {"rotation": [0,180,0]},"tag:m.fish_south": {}}},
			{"condition": "q.block_state('minecraft:cardinal_direction') == 'west'","components": {"minecraft:transformation": {"rotation": [0,90,0]},"tag:m.fish_east": {}}},
			{"condition": "q.block_state('minecraft:cardinal_direction') == 'east'","components": {"minecraft:transformation": {"rotation": [0,-90,0]},"tag:m.fish_west": {}}}
		],
		"components": {
			"tag:medieval_furniture": {},
			"minecraft:geometry": {
				"identifier": "geometry.m.fish_drying",
				"bone_visibility": {
					"item": "q.block_state('medieval:side') == 0",
					"root": "q.block_state('medieval:side') > 0",
					"right": "q.block_state('medieval:side') == 1 || q.block_state('medieval:side') == 2",
					"left": "q.block_state('medieval:side') == 1 || q.block_state('medieval:side') == 3",
					"right2": "q.block_state('medieval:fish_right') > 0",
					"left2": "q.block_state('medieval:fish_left') > 0",
					"salmon": "q.block_state('medieval:fish_left') == 1",
					"salmon2": "q.block_state('medieval:fish_right') == 1",
					"cod": "q.block_state('medieval:fish_left') == 2",
					"cod2": "q.block_state('medieval:fish_right') == 2"
				}
			},
			"minecraft:material_instances": {"*": {"texture": "m.fish_drying","render_method": "alpha_test"},"salmon": {"texture": "m.salmon","render_method": "alpha_test"},"cod": {"texture": "m.cod","render_method": "alpha_test"}},
			"minecraft:on_player_placing": {"event": "set"},
			"minecraft:on_interact": {"event": "add_fish"},
			"minecraft:queued_ticking": {"on_tick":{"event": "update"},"interval_range": [0,0],"looping": true},
			"minecraft:collision_box": {"origin": [-8,0,-8],"size": [16,16,16]},
			"minecraft:selection_box": {"origin": [-8,0,-8],"size": [16,16,16]},
			"minecraft:light_dampening": 0.0,
			"minecraft:destructible_by_explosion": {"explosion_resistance": 3.0},
			"minecraft:destructible_by_mining": {"seconds_to_destroy": 0.8},
			"minecraft:map_color": "#f7781e"
		},
		"events": {
			"set": {"set_block_state": {"medieval:side": 1}},
			"update": {
				"sequence": [
					{"condition": "(q.block_state('minecraft:cardinal_direction') == 'north' && !q.block_neighbor_has_any_tag(-1,0,0,'m.fish_north') && !q.block_neighbor_has_any_tag(1,0,0,'m.fish_north')) || (q.block_state('minecraft:cardinal_direction') == 'south' && !q.block_neighbor_has_any_tag(-1,0,0,'m.fish_south') && !q.block_neighbor_has_any_tag(1,0,0,'m.fish_south')) || (q.block_state('minecraft:cardinal_direction') == 'west' && !q.block_neighbor_has_any_tag(0,0,-1,'m.fish_east') && !q.block_neighbor_has_any_tag(0,0,1,'m.fish_east')) || (q.block_state('minecraft:cardinal_direction') == 'east' && !q.block_neighbor_has_any_tag(0,0,-1,'m.fish_west') && !q.block_neighbor_has_any_tag(0,0,1,'m.fish_west'))","set_block_state": {"medieval:side": 1}},{"condition": "(q.block_state('minecraft:cardinal_direction') == 'north' && !q.block_neighbor_has_any_tag(-1,0,0,'m.fish_north') && q.block_neighbor_has_any_tag(1,0,0,'m.fish_north')) || (q.block_state('minecraft:cardinal_direction') == 'south' && q.block_neighbor_has_any_tag(-1,0,0,'m.fish_south') && !q.block_neighbor_has_any_tag(1,0,0,'m.fish_south')) || (q.block_state('minecraft:cardinal_direction') == 'west' && q.block_neighbor_has_any_tag(0,0,-1,'m.fish_east') && !q.block_neighbor_has_any_tag(0,0,1,'m.fish_east')) || (q.block_state('minecraft:cardinal_direction') == 'east' && !q.block_neighbor_has_any_tag(0,0,-1,'m.fish_west') && q.block_neighbor_has_any_tag(0,0,1,'m.fish_west'))","set_block_state": {"medieval:side": 3}},{"condition": "(q.block_state('minecraft:cardinal_direction') == 'north' && q.block_neighbor_has_any_tag(-1,0,0,'m.fish_north') && !q.block_neighbor_has_any_tag(1,0,0,'m.fish_north')) || (q.block_state('minecraft:cardinal_direction') == 'south' && !q.block_neighbor_has_any_tag(-1,0,0,'m.fish_south') && q.block_neighbor_has_any_tag(1,0,0,'m.fish_south')) || (q.block_state('minecraft:cardinal_direction') == 'west' && !q.block_neighbor_has_any_tag(0,0,-1,'m.fish_east') && q.block_neighbor_has_any_tag(0,0,1,'m.fish_east')) || (q.block_state('minecraft:cardinal_direction') == 'east' && q.block_neighbor_has_any_tag(0,0,-1,'m.fish_west') && !q.block_neighbor_has_any_tag(0,0,1,'m.fish_west'))","set_block_state": {"medieval:side": 2}},{"condition": "(q.block_state('minecraft:cardinal_direction') == 'north' && q.block_neighbor_has_any_tag(-1,0,0,'m.fish_north') && q.block_neighbor_has_any_tag(1,0,0,'m.fish_north')) || (q.block_state('minecraft:cardinal_direction') == 'south' && q.block_neighbor_has_any_tag(-1,0,0,'m.fish_south') && q.block_neighbor_has_any_tag(1,0,0,'m.fish_south')) || (q.block_state('minecraft:cardinal_direction') == 'west' && q.block_neighbor_has_any_tag(0,0,-1,'m.fish_east') && q.block_neighbor_has_any_tag(0,0,1,'m.fish_east')) || (q.block_state('minecraft:cardinal_direction') == 'east' && q.block_neighbor_has_any_tag(0,0,-1,'m.fish_west') && q.block_neighbor_has_any_tag(0,0,1,'m.fish_west'))","set_block_state": {"medieval:side": 4}}
				]
			},
			"add_fish": {
				"sequence": [
					{"condition": "q.get_equipped_item_name('main_hand') == 'salmon' && q.block_state('medieval:fish_left') == 0","set_block_state": {"medieval:fish_left": 1},"run_command": {"command": "playsound block.itemframe.add_item @a ~ ~ ~"}},
					{"condition": "q.get_equipped_item_name('main_hand') == 'cod' && q.block_state('medieval:fish_left') == 0","set_block_state": {"medieval:fish_left": 2},"run_command": {"command": "playsound block.itemframe.add_item @a ~ ~ ~"}},
					{"condition": "q.get_equipped_item_name('main_hand') == 'salmon' && q.block_state('medieval:fish_left') > 0 && q.block_state('medieval:fish_right') == 0","set_block_state": {"medieval:fish_right": 1},"run_command": {"command": "playsound block.itemframe.add_item @a ~ ~ ~"}},
					{"condition": "q.get_equipped_item_name('main_hand') == 'cod' && q.block_state('medieval:fish_left') > 0 && q.block_state('medieval:fish_right') == 0","set_block_state": {"medieval:fish_right": 2},"run_command": {"command": "playsound block.itemframe.add_item @a ~ ~ ~"}},
					{"condition": "!q.is_item_name_any('slot.weapon.mainhand',0,'minecraft:cod','minecraft:salmon') && q.block_state('medieval:fish_right') > 0","set_block_state": {"medieval:fish_right": 0},"run_command": {"command": "playsound block.itemframe.remove_item @a ~ ~ ~"}},
					{"condition": "!q.is_item_name_any('slot.weapon.mainhand',0,'minecraft:cod','minecraft:salmon') && q.block_state('medieval:fish_right') == 0 && q.block_state('medieval:fish_left') > 0","set_block_state": {"medieval:fish_left": 0},"run_command": {"command": "playsound block.itemframe.remove_item @a ~ ~ ~"}}
				]
			}
		}
	}
}