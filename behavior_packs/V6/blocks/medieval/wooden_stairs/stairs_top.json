{
	"format_version": "1.16.100",
	"minecraft:block": {
		"description": {
			"identifier": "medieval:stairs_top",
			"properties": {
				"medieval:facing_direction": [0,1,2,3]
			}
		},
		"permutations": [
			{"condition": "q.block_property('medieval:facing_direction') == 0","components": {"minecraft:rotation": [0,0,0]}},
			{"condition": "q.block_property('medieval:facing_direction') == 1","components": {"minecraft:rotation": [0,180,0]}},
			{"condition": "q.block_property('medieval:facing_direction') == 2","components": {"minecraft:rotation": [0,90,0]}},
			{"condition": "q.block_property('medieval:facing_direction') == 3","components": {"minecraft:rotation": [0,-90,0]}}
		],
		"components": {
			"minecraft:geometry": "geometry.m.no_stairs",
			"minecraft:material_instances": {"*": {"texture": "m.empty","render_method": "alpha_test"}},
			"minecraft:loot": "empty",
			"tag:m.stairs_top": {},
			"tag:medieval_furniture": {},
			"minecraft:on_interact": {"event": "remove_interact"},
			"minecraft:ticking": {"on_tick":{"event": "remove"},"range": [0,0],"looping": true},
			"minecraft:on_placed": {"event": "set_facing_direction"},
			"minecraft:placement_filter": {"conditions": [{"allowed_faces": ["up"],"block_filter": [{"tags": "q.any_tag('wooden_stairs')"}]}]},
			"minecraft:entity_collision": {"origin": [-8.0,0.0,-8.0],"size": [16,0.1,8]},
			"minecraft:pick_collision": false,
			"minecraft:block_light_absorption": 0,
			"minecraft:explosion_resistance": 1,
			"minecraft:destroy_time": 0,
			"minecraft:map_color": "#FFFFFF"
		},
		"events": {
			"set_facing_direction": {
				"sequence": [
					{"condition": "q.block_neighbor_has_any_tag(0,-1,0,'wooden_stairs_south')","set_block_property": {"medieval:facing_direction": 1}},
					{"condition": "q.block_neighbor_has_any_tag(0,-1,0,'wooden_stairs_east')","set_block_property": {"medieval:facing_direction": 2}},
					{"condition": "q.block_neighbor_has_any_tag(0,-1,0,'wooden_stairs_west')","set_block_property": {"medieval:facing_direction": 3}}
				]
			},
			"remove": {"run_command": {"command": "execute unless entity @e[r=2] run setblock ~ ~ ~ air"}},
			"remove_interact": {"run_command": {"command": "setblock ~ ~ ~ air"}}
		}
	}
}